CREATE TABLE user (id INTEGER PRIMARY KEY, email VARCHAR(255) NOT NULL UNIQUE, password VARCHAR(500) NOT NULL);
CREATE TABLE roleplay (id VARCHAR(100) PRIMARY KEY, name VARCHAR(1000) NOT NULL, file_path VARCHAR(500) NOT NULL, image_file_path VARCHAR(500) NOT NULL, scenario VARCHAR(1000) NOT NULL, person_name VARCHAR(1000) NOT NULL);
CREATE TABLE play (
        id INTEGER PRIMARY KEY AUTO_INCREMENT,
        start_time DATETIME DEFAULT CURRENT_TIMESTAMP,
        user_id INTEGER NOT NULL,
        roleplay_id INTEGER NOT NULL,
        FOREIGN KEY(user_id) REFERENCES user(id),
        FOREIGN KEY(roleplay_id) REFERENCES roleplay(id)
    );
CREATE TABLE chathistory (id INTEGER PRIMARY KEY, play_id INTEGER NOT NULL, user_text VARCHAR(2500), response_text VARCHAR(2500), FOREIGN KEY(play_id) REFERENCES play(id));
CREATE TABLE scoremaster (id INTEGER PRIMARY KEY, chathistory_id INTEGER NOT NULL, overall_score INTEGER NOT NULL, FOREIGN KEY(chathistory_id) REFERENCES chathistory(id));
CREATE TABLE scorebreakdown (scoremaster_id INTEGER NOT NULL, score_name VARCHAR(255) NOT NULL, score INTEGER NOT NULL, FOREIGN KEY(scoremaster_id) REFERENCES scoremaster(id));
CREATE TABLE roleplayoverride (roleplay_id INTEGER NOT NULL, user_id INTEGER NOT NULL, FOREIGN KEY(roleplay_id) REFERENCES roleplay(id), FOREIGN KEY(user_id) REFERENCES user(id));
INSERT INTO roleplay (name, file_path) VALUES ('Credit Roleplay', 'data/Roleplay 1.xls');